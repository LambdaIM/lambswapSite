(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0b0d1942"],{"28a1":function(e,t,a){"use strict";a("3b38")},"3b38":function(e,t,a){},"5c71":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"claim-dialog"},[a("Modal",{attrs:{"class-name":"claim-modal","footer-hide":!0,closable:!0},model:{value:e.openClaimDialog,callback:function(t){e.openClaimDialog=t},expression:"openClaimDialog"}},[a("div",{staticClass:"claim-content"},[a("p",{staticClass:"title text-center"},[e._v(" "+e._s(e.$t("myPage.claim"))+" ")]),a("div",{staticClass:"claim-wrapper"},[a("div",{staticClass:"title-content"},[a("span",{staticClass:"card-title"},[e._v(e._s(e.$t("common.amount")))]),a("div",{staticClass:"balance-item"},[a("span",{staticClass:"mr-2 text-secondary"},[e._v(e._s(e.$t("myPage.dialog.claim.unclaim"))+" "+e._s(e.coinName))]),a("span",[e._v(e._s(e.claimAmount)+" "+e._s(e.rewardToken))])])]),a("div",{staticClass:"claim-wrapper"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.claimAmount,expression:"claimAmount"}],staticClass:"amount-input",attrs:{readonly:"",type:"text"},domProps:{value:e.claimAmount},on:{input:function(t){t.target.composing||(e.claimAmount=t.target.value)}}})])]),a("div",{staticClass:"price-wrapper"},[a("div",{staticClass:"price-item"},[a("span",[e._v(e._s(e.$t("common.willRecieive")))]),a("p",[e._v(e._s(e.claimAmount)+" "+e._s(e.rewardToken))])]),a("div",{staticClass:"price-item"},[a("span",[e._v(e._s(e.$t("myPage.dialog.claim.fee")))]),a("p",[e._v("$"+e._s(e.fee))])])]),a("div",{staticClass:"btn-wrapper"},[e.extractLoading?a("Buttons",[e._v(" "+e._s(e.$t("common.loading"))+"... ")]):a("Buttons",{nativeOn:{click:function(t){return e.sendExtract(t)}}},[e._v(" "+e._s(e.$t("common.confirm"))+" ")])],1)])])],1)},i=[],c=a("5530"),s=a("1da1"),r=(a("96cf"),a("b0c0"),a("d3b7"),a("25f0"),a("99af"),a("3ca3"),a("ddb0"),a("2f62")),o=a("dccc"),m=a("5bed"),l=a("0ee2"),d=a("901e");d.config({DECIMAL_PLACES:6,ROUNDING_MODE:d.ROUND_DOWN});var u={data:function(){return{openClaimDialog:!1,claimAmount:"",data:{},coinName:"",extractLoading:!1,fee:"",rewardToken:""}},methods:{open:function(e){this.data=e,this.coinName=e&&e.name,this.claimAmount=e&&e.data&&e.data.earned,this.rewardToken=e&&e.data&&e.data.rewardToken,this.getFee(),this.openClaimDialog=!0},checkData:function(){return!(this.claimAmount<=0)||(this.$Notice.warning({title:this.$t("notice.n"),desc:this.$t("notice.n31")}),!1)},getFee:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,n,i,c,s,r,m,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.data,n=Object(o["a"])(e.ethersprovider,e.ethAddress,a),t.next=4,n.estimateGas.getReward();case 4:return i=t.sent,t.next=7,Object(l["a"])(e.ethersprovider);case 7:c=t.sent,s=new d(c),r=new d(i.toString()),m=new d(e.chainTokenPrice),u=r.times(m).times(s).div("1e18"),e.fee=u.decimalPlaces(6).toNumber();case 13:case"end":return t.stop()}}),t)})))()},sendExtract:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,n,i,c,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.checkData()){t.next=2;break}return t.abrupt("return",!1);case 2:return e.extractLoading=!0,a=e.data,t.prev=4,n=Object(o["a"])(e.ethersprovider,e.ethAddress,a),t.next=8,n.estimateGas.getReward();case 8:return i=t.sent,t.next=11,n.getReward({gasLimit:i});case 11:c=t.sent,m["a"].$emit("sendSuccess"),m["a"].$emit("sendtx",[c,{okinfo:"".concat(e.$t("common.claim")," ").concat(e.claimAmount," GOAT ").concat(e.$t("notice.n42")),failinfo:"".concat(e.$t("common.claim")," ").concat(e.coinName," ").concat(e.$t("notice.n43"))}]),t.next=20;break;case 16:t.prev=16,t.t0=t["catch"](4),e.$Notice.error({title:e.$t("notice.n32")});case 20:return t.prev=20,s=setTimeout((function(){e.openClaimDialog=!1,e.extractLoading=!1,clearTimeout(s)}),1e3),t.finish(20);case 23:case"end":return t.stop()}}),t,null,[[4,16,20,23]])})))()}},components:{Buttons:function(){return a.e("chunk-2d225272").then(a.bind(null,"e2d3"))}},computed:Object(c["a"])({},Object(r["b"])(["ethersprovider","ethAddress","chainTokenPrice","web3","scashPrice"]))},p=u,v=(a("28a1"),a("2877")),f=Object(v["a"])(p,n,i,!1,null,"cf55fa1c",null);t["default"]=f.exports}}]);
//# sourceMappingURL=chunk-0b0d1942.d879a21c.js.map