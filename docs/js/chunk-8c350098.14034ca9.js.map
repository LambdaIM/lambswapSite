{"version":3,"sources":["webpack:///./src/contacthelp/Approve.js","webpack:///./src/assets/img/add.svg","webpack:///./src/views/swap/dialog/inputDialog.vue?b1d5","webpack:///./src/assets/img/arrow-left.svg","webpack:///./src/assets/img/notice-red.png","webpack:///./src/views/swap/dialog/inputDialog.vue?8148","webpack:///src/views/swap/dialog/inputDialog.vue","webpack:///./src/views/swap/dialog/inputDialog.vue?e798","webpack:///./src/views/swap/dialog/inputDialog.vue?e0fa"],"names":["require","useTokenApprove","library","account","token","spender","amount","contract","useTokenContract","address","approveAmount","MaxUint256","estimateGas","approve","gasEstimate","gasLimit","calculateGasMargin","result","useTokenApproveErc20Lambda","fromValue","toValue","useErc20LambdaContract","module","exports","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","model","value","callback","$$v","openInputDialog","expression","_v","_s","$t","_f","tokenABalance","tokenA","symbol","_e","directives","name","rawName","class","inputnoticeA","domProps","on","aTokenChange","$event","target","composing","aTokenAmount","staticStyle","getTokenImg","tokenBBalance","tokenB","inputnoticeB","bTokenChange","bTokenAmount","price","priceinvert","tokenAnotNeed","tokenBnotNeed","nativeOn","approveA","approveB","showConfirmInput","showInput","LiquidityInfo","liquidityMinted","poolPercentData","newpercent","fee","chainTokenPrice","sendTX","ref","staticRenderFns","components","Buttons","loading","haveSendDialog","data","isShowInput","btnloading","parameters","lpbalance","ethamount","methods","toexchange","$router","push","clearData","$data","debounce","build","checkAmount","a","b","inputcheckupA","isNaN","num","inamount","isGreaterThan","isLessThanOrEqualTo","inputcheckupB","computed","watch","component"],"mappings":"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","file":"js/chunk-8c350098.14034ca9.js","sourcesContent":["import { Token, TokenAmount } from \"@webfans/uniswapsdk\";\nimport { MaxUint256, Zero} from \"@ethersproject/constants\";\nimport { useTokenContract, useErc20LambdaContract } from \"./useContract.js\";\nimport {\n  calculateGasMargin,\n\n} from \"./utils.js\";\nconst BigNumber = require(\"bignumber.js\");\n\nexport async function useTokenApprove(\n    library,\n    account,\n    token,\n    spender,\n    amount\n  ) {\n    const contract = useTokenContract(library, account, token.address, true);\n\n\n    let result,gasEstimate;\n\n    //MaxUint256\n    // const bigAmount = new BigNumber(amount);\n    // const approveAmount = bigAmount.times('1.1').toFixed(0);\n    const approveAmount = MaxUint256;\n    console.log(contract, 3333222);\n\n    try {\n        gasEstimate = await contract.estimateGas.approve(spender,approveAmount);\n        result = await contract.approve(spender,approveAmount,{\n          gasLimit: calculateGasMargin(gasEstimate)\n        });\n    } catch (error) {\n      console.log(error);\n    }\n\n    return result;\n  }\n\n\nexport async function useTokenApproveErc20Lambda(\n  library,\n  account,\n  token,\n  spender,\n  fromValue,\n  toValue,\n) {\n  const contract = useErc20LambdaContract(library, account, token.address, true);\n\n  let result;\n  // fromValue = Zero;\n  try {\n    const gasEstimate = await contract.estimateGas.approve(spender, fromValue, toValue);\n    result = await contract.approve(spender, fromValue, toValue, {\n      gasLimit: calculateGasMargin(gasEstimate)\n    });\n  } catch (error) {\n    console.log(error);\n  }\n\n  return result;\n}\n","module.exports = __webpack_public_path__ + \"img/add.bad13356.svg\";","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./inputDialog.vue?vue&type=style&index=0&id=f7430442&lang=less&scoped=true&\"","module.exports = __webpack_public_path__ + \"img/arrow-left.e1aaf66f.svg\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAAAqklEQVQoU2NkgIL/oQxsDC8Y0hn+M0QzMDBoQYWvMTAyLGWQYJjJuJrhF0iMEUT8t2SQZmBm2MLAwGAAMwCNvsDwl8GH8TjDU0awyc8ZTqIoNnSAqD9/AFnfBQZJBnPG/7YMuQz/GSahmJjYAOHOh9IwSUaGPMb/NgwnGBgYzInSwMBwEqThEwMDAy+RGj6TpQHTSdg9DXLESeyexqUB7GlSg5XkiCM1aQAAzyZIc7QaxZMAAAAASUVORK5CYII=\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"input-dialog\"},[_c('Modal',{attrs:{\"class-name\":\"input-modal\",\"footer-hide\":true,\"closable\":true},model:{value:(_vm.openInputDialog),callback:function ($$v) {_vm.openInputDialog=$$v},expression:\"openInputDialog\"}},[(_vm.isShowInput)?_c('div',{staticClass:\"input-content\"},[_c('p',{staticClass:\"title text-center\"},[_vm._v(\" \"+_vm._s(_vm.$t('swapHistory.inputDialog.title'))+\" \")]),_c('div',{staticClass:\"Input-wrapper\"},[_c('div',{staticClass:\"title-content\"},[_c('span',{staticClass:\"card-title\"},[_vm._v(_vm._s(_vm.$t('swapHistory.inputDialog.title')))]),_c('div',{staticClass:\"balance-item\"},[_c('span',{staticClass:\"mr-2 text-secondary\"},[_vm._v(_vm._s(_vm.$t('swapHistory.inputDialog.balance')))]),(_vm.tokenA)?_c('span',[_vm._v(_vm._s(_vm._f(\"formatNormalValue\")(_vm.tokenABalance))+\" \"+_vm._s(_vm.tokenA.symbol))]):_vm._e()])]),_c('div',{staticClass:\"input-wrapper flex\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.aTokenAmount),expression:\"aTokenAmount\"}],class:_vm.inputnoticeA ? 'amount-input amount-input-error' : 'amount-input',attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.aTokenAmount)},on:{\"keyup\":_vm.aTokenChange,\"input\":function($event){if($event.target.composing){ return; }_vm.aTokenAmount=$event.target.value}}}),(_vm.tokenA)?_c('div',{staticClass:\"flex unit\"},[_c('img',{staticStyle:{\"height\":\"32px\"},attrs:{\"width\":\"32\",\"height\":\"32\",\"src\":_vm.getTokenImg(_vm.tokenA.symbol)}}),_c('p',[_vm._v(_vm._s(_vm.tokenA.symbol))])]):_vm._e()]),(_vm.inputnoticeA)?_c('div',{staticClass:\"notice-wrapper\"},[_c('div',{staticClass:\"notice-content\"},[_c('img',{attrs:{\"src\":require(\"../../../assets/img/notice-red.png\")}}),_c('p',[_vm._v(_vm._s(_vm.inputnoticeA))])])]):_vm._e()]),_c('div',{staticClass:\"add-wrapper\"},[_c('img',{attrs:{\"src\":require(\"../../../assets/img/add.svg\"),\"alt\":\"add\"}})]),_c('div',{staticClass:\"Input-wrapper\"},[_c('div',{staticClass:\"title-content\"},[_c('span',{staticClass:\"card-title\"},[_vm._v(_vm._s(_vm.$t('swapHistory.inputDialog.title')))]),_c('div',{staticClass:\"balance-item\"},[_c('span',{staticClass:\"mr-2 text-secondary\"},[_vm._v(_vm._s(_vm.$t('swapHistory.inputDialog.balance')))]),(_vm.tokenB)?_c('span',[_vm._v(_vm._s(_vm._f(\"formatNormalValue\")(_vm.tokenBBalance))+\" \"+_vm._s(_vm.tokenB.symbol))]):_vm._e()])]),_c('div',{staticClass:\"input-wrapper flex\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.bTokenAmount),expression:\"bTokenAmount\"}],class:_vm.inputnoticeB ? 'amount-input amount-input-error' : 'amount-input',attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.bTokenAmount)},on:{\"keyup\":_vm.bTokenChange,\"input\":function($event){if($event.target.composing){ return; }_vm.bTokenAmount=$event.target.value}}}),(_vm.tokenB)?_c('div',{staticClass:\"flex unit\"},[_c('img',{attrs:{\"width\":\"32\",\"height\":\"32px\",\"src\":_vm.getTokenImg(_vm.tokenB.symbol)}}),_c('p',[_vm._v(_vm._s(_vm.tokenB.symbol))])]):_vm._e()]),(_vm.inputnoticeB)?_c('div',{staticClass:\"notice-wrapper\"},[_c('div',{staticClass:\"notice-content\"},[_c('img',{attrs:{\"src\":require(\"../../../assets/img/notice-red.png\")}}),_c('p',[_vm._v(_vm._s(_vm.inputnoticeB))])])]):_vm._e()]),_c('div',{staticClass:\"price-wrapper flex justify-between\"},[_c('span',[_vm._v(_vm._s(_vm.$t('swapHistory.confirmDialog.Price')))]),_c('div',[(_vm.tokenB && _vm.tokenA && _vm.price)?_c('p',[_vm._v(\" \"+_vm._s(_vm.price)+\" \"+_vm._s(_vm.tokenB.symbol)+\" = 1 \"+_vm._s(_vm.tokenA.symbol)+\" \")]):_vm._e(),(_vm.tokenB && _vm.tokenA && _vm.price)?_c('p',[_vm._v(\" \"+_vm._s(_vm.priceinvert)+\" \"+_vm._s(_vm.tokenA.symbol)+\" = 1 \"+_vm._s(_vm.tokenB.symbol)+\" \")]):_vm._e()])]),_c('div',{staticClass:\"btn-wrapper\"},[(_vm.btnloading)?_c('div',[_c('Buttons',[_vm._v(_vm._s(_vm.$t('swapHistory.confirmDialog.loading')))])],1):_c('div',[(_vm.tokenAnotNeed == false || _vm.tokenBnotNeed == false)?_c('div',[_c('div',[(_vm.tokenAnotNeed == false)?_c('Buttons',{nativeOn:{\"click\":function($event){return _vm.approveA($event)}}},[_vm._v(\" \"+_vm._s(_vm.tokenA.symbol)+\" \"+_vm._s(_vm.$t('swapHistory.removeDialog.button'))+\" \")]):_vm._e()],1),_c('br'),_c('div',[(_vm.tokenBnotNeed == false)?_c('Buttons',{nativeOn:{\"click\":function($event){return _vm.approveB($event)}}},[_vm._v(\" \"+_vm._s(_vm.tokenB.symbol)+\" \"+_vm._s(_vm.$t('swapHistory.removeDialog.button'))+\" \")]):_vm._e()],1)]):_c('div',{on:{\"click\":_vm.showConfirmInput}},[_c('Buttons',[_vm._v(_vm._s(_vm.$t('swapHistory.inputDialog.button')))])],1)])])]):_c('div',[(_vm.LiquidityInfo)?_c('div',{staticClass:\"confirmInput-content\"},[_c('div',{staticClass:\"arrow-wrapper\",on:{\"click\":_vm.showInput}},[_c('img',{attrs:{\"src\":require(\"../../../assets/img/arrow-left.svg\"),\"alt\":\"arrow-left\"}})]),_c('p',{staticClass:\"title text-center\"},[_vm._v(\" \"+_vm._s(_vm.$t('swapHistory.confirmDialog.titleConfirm'))+\" \")]),_c('p',{staticClass:\"will-receive\"},[_vm._v(\" \"+_vm._s(_vm.$t('swapHistory.confirmDialog.willReceive'))+\" \")]),_c('div',{staticClass:\"confirm-content\"},[_c('div',{staticClass:\"images-wrapper\"},[_c('img',{attrs:{\"src\":_vm.getTokenImg(_vm.tokenB.symbol),\"width\":\"48\",\"alt\":\"comp\"}}),_c('img',{staticClass:\"img2\",attrs:{\"src\":_vm.getTokenImg(_vm.tokenA.symbol),\"width\":\"48\",\"alt\":\"comp\"}})]),_c('h2',[_vm._v(_vm._s(_vm.LiquidityInfo.liquidityMinted))]),_c('p',[_vm._v(_vm._s(_vm.tokenA.symbol)+\"/\"+_vm._s(_vm.tokenB.symbol)+\" LP\")]),_c('span',[_vm._v(\" \"+_vm._s(_vm.$t('swapHistory.confirmDialog.content1'))+\" \"+_vm._s(_vm.LiquidityInfo.liquidityMinted)+\" \"+_vm._s(_vm.tokenA.symbol)+\"/\"+_vm._s(_vm.tokenB.symbol)+\" \"+_vm._s(_vm.$t('swapHistory.confirmDialog.content2'))+\" \")])]),(_vm.btnloading)?_c('div',{staticClass:\"demo-spin-container\"},[_c('loading')],1):_c('div',[_c('div',{staticClass:\"price-wrapper\"},[_c('div',[_c('span',[_vm._v(_vm._s(_vm.tokenA.symbol)+\" \"+_vm._s(_vm.$t('swapHistory.inputDialog.title')))]),_c('p',[_vm._v(_vm._s(_vm.aTokenAmount)+\" \"+_vm._s(_vm.tokenA.symbol))])]),_c('div',[_c('span',[_vm._v(_vm._s(_vm.tokenB.symbol)+\" \"+_vm._s(_vm.$t('swapHistory.inputDialog.title')))]),_c('p',[_vm._v(_vm._s(_vm.bTokenAmount)+\" \"+_vm._s(_vm.tokenB.symbol))])]),_c('div',[_c('span',[_vm._v(_vm._s(_vm.$t('swapHistory.confirmDialog.Price')))]),_c('div',{staticClass:\"price\"},[(_vm.tokenB && _vm.tokenA && _vm.price)?_c('p',[_vm._v(\" \"+_vm._s(_vm.price)+\" \"+_vm._s(_vm.tokenB.symbol)+\" = 1 \"+_vm._s(_vm.tokenA.symbol)+\" \")]):_vm._e(),(_vm.tokenB && _vm.tokenA && _vm.price)?_c('p',[_vm._v(\" \"+_vm._s(_vm.priceinvert)+\" \"+_vm._s(_vm.tokenA.symbol)+\" = 1 \"+_vm._s(_vm.tokenB.symbol)+\" \")]):_vm._e()])]),_c('div',{staticClass:\"items-center\"},[_c('span',[_vm._v(_vm._s(_vm.$t('swapHistory.confirmDialog.share')))]),_c('div',{staticClass:\"sharePoll\"},[_c('span',[_vm._v(\"+\"+_vm._s(_vm._f(\"formatRate\")(_vm.LiquidityInfo.poolPercentData)))]),_c('p',[_vm._v(_vm._s(_vm.$t('swapHistory.confirmDialog.to'))+\" \"+_vm._s(_vm._f(\"formatRate\")(_vm.newpercent)))])])]),_c('div',[_c('span',[_vm._v(_vm._s(_vm.$t('swapHistory.confirmDialog.fee')))]),_c('p',[_vm._v(_vm._s(_vm._f(\"formatBalanceNumber\")(_vm.fee))+\" HT≈$\"+_vm._s(_vm._f(\"formatBalanceNumber\")((_vm.chainTokenPrice * _vm.fee))))])])]),_c('Buttons',{nativeOn:{\"click\":function($event){return _vm.sendTX($event)}}},[_vm._v(\" \"+_vm._s(_vm.$t('swapHistory.confirmDialog.titleConfirm'))+\" \")])],1)]):_vm._e()])]),_c('haveSendDialog',{ref:\"haveSendtx\"})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"input-dialog\">\n    <Modal v-model=\"openInputDialog\" class-name=\"input-modal\" :footer-hide=\"true\" :closable=\"true\">\n      <div v-if=\"isShowInput\" class=\"input-content\">\n        <p class=\"title text-center\">\n          {{ $t('swapHistory.inputDialog.title') }}\n        </p>\n        <div class=\"Input-wrapper\">\n          <div class=\"title-content\">\n            <span class=\"card-title\">{{ $t('swapHistory.inputDialog.title') }}</span>\n            <div class=\"balance-item\">\n              <span class=\"mr-2 text-secondary\">{{ $t('swapHistory.inputDialog.balance') }}</span>\n              <span v-if=\"tokenA\">{{ tokenABalance | formatNormalValue }} {{ tokenA.symbol }}</span>\n            </div>\n          </div>\n          <div class=\"input-wrapper flex\">\n            <input\n              v-model=\"aTokenAmount\"\n              type=\"text\"\n              :class=\"inputnoticeA ? 'amount-input amount-input-error' : 'amount-input'\"\n              @keyup=\"aTokenChange\"\n            >\n            <div v-if=\"tokenA\" class=\"flex unit\">\n              <img style=\"height:32px;\" width=\"32\" height=\"32\" :src=\"getTokenImg(tokenA.symbol)\">\n              <p>{{ tokenA.symbol }}</p>\n            </div>\n          </div>\n          <div v-if=\"inputnoticeA\" class=\"notice-wrapper\">\n            <div class=\"notice-content\">\n              <img src=\"../../../assets/img/notice-red.png\">\n              <p>{{ inputnoticeA }}</p>\n            </div>\n          </div>\n        </div>\n        <div class=\"add-wrapper\">\n          <img src=\"../../../assets/img/add.svg\" alt=\"add\">\n        </div>\n        <div class=\"Input-wrapper\">\n          <div class=\"title-content\">\n            <span class=\"card-title\">{{ $t('swapHistory.inputDialog.title') }}</span>\n            <div class=\"balance-item\">\n              <span class=\"mr-2 text-secondary\">{{ $t('swapHistory.inputDialog.balance') }}</span>\n              <span v-if=\"tokenB\">{{ tokenBBalance | formatNormalValue }} {{ tokenB.symbol }}</span>\n            </div>\n          </div>\n          <div class=\"input-wrapper flex\">\n            <input\n              v-model=\"bTokenAmount\"\n              type=\"text\"\n              :class=\"inputnoticeB ? 'amount-input amount-input-error' : 'amount-input'\"\n              @keyup=\"bTokenChange\"\n            >\n            <div v-if=\"tokenB\" class=\"flex unit\">\n              <img width=\"32\" height=\"32px\" :src=\"getTokenImg(tokenB.symbol)\">\n              <p>{{ tokenB.symbol }}</p>\n            </div>\n          </div>\n          <div v-if=\"inputnoticeB\" class=\"notice-wrapper\">\n            <div class=\"notice-content\">\n              <img src=\"../../../assets/img/notice-red.png\">\n              <p>{{ inputnoticeB }}</p>\n            </div>\n          </div>\n        </div>\n        <div class=\"price-wrapper flex justify-between\">\n          <span>{{ $t('swapHistory.confirmDialog.Price') }}</span>\n          <div>\n            <p v-if=\"tokenB && tokenA && price\">\n              {{ price }} {{ tokenB.symbol }} = 1 {{ tokenA.symbol }}\n            </p>\n            <p v-if=\"tokenB && tokenA && price\">\n              {{ priceinvert }} {{ tokenA.symbol }} = 1 {{ tokenB.symbol }}\n            </p>\n          </div>\n        </div>\n\n        <div class=\"btn-wrapper\">\n          <div v-if=\"btnloading\">\n            <Buttons>{{ $t('swapHistory.confirmDialog.loading') }}</Buttons>\n          </div>\n          <div v-else>\n            <div v-if=\"tokenAnotNeed == false || tokenBnotNeed == false\">\n              <div>\n                <Buttons v-if=\"tokenAnotNeed == false\" @click.native=\"approveA\">\n                  {{ tokenA.symbol }} {{ $t('swapHistory.removeDialog.button') }}\n                </Buttons>\n              </div>\n              <br>\n              <div>\n                <Buttons v-if=\"tokenBnotNeed == false\" @click.native=\"approveB\">\n                  {{ tokenB.symbol }} {{ $t('swapHistory.removeDialog.button') }}\n                </Buttons>\n              </div>\n            </div>\n\n            <div v-else @click=\"showConfirmInput\">\n              <Buttons>{{ $t('swapHistory.inputDialog.button') }}</Buttons>\n            </div>\n            <!-- <p class=\"buy\" @click=\"toexchange\">\n              {{ $t('swapHistory.inputDialog.buy') }}\n            </p> -->\n          </div>\n        </div>\n      </div>\n      <div v-else>\n        <div v-if=\"LiquidityInfo\" class=\"confirmInput-content\">\n          <div class=\"arrow-wrapper\" @click=\"showInput\">\n            <img src=\"../../../assets/img/arrow-left.svg\" alt=\"arrow-left\">\n          </div>\n          <p class=\"title text-center\">\n            {{ $t('swapHistory.confirmDialog.titleConfirm') }}\n          </p>\n          <p class=\"will-receive\">\n            {{ $t('swapHistory.confirmDialog.willReceive') }}\n          </p>\n\n          <div class=\"confirm-content\">\n            <div class=\"images-wrapper\">\n              <img :src=\"getTokenImg(tokenB.symbol)\" width=\"48\" alt=\"comp\">\n              <img :src=\"getTokenImg(tokenA.symbol)\" width=\"48\" alt=\"comp\" class=\"img2\">\n            </div>\n            <h2>{{ LiquidityInfo.liquidityMinted }}</h2>\n            <p>{{ tokenA.symbol }}/{{ tokenB.symbol }} LP</p>\n            <span>\n              {{ $t('swapHistory.confirmDialog.content1') }} {{ LiquidityInfo.liquidityMinted }} {{ tokenA.symbol }}/{{\n                tokenB.symbol\n              }}\n              {{ $t('swapHistory.confirmDialog.content2') }}\n            </span>\n          </div>\n          <div v-if=\"btnloading\" class=\"demo-spin-container\">\n            <loading />\n          </div>\n          <div v-else>\n            <div class=\"price-wrapper\">\n              <div>\n                <span>{{ tokenA.symbol }} {{ $t('swapHistory.inputDialog.title') }}</span>\n                <p>{{ aTokenAmount }} {{ tokenA.symbol }}</p>\n              </div>\n              <div>\n                <span>{{ tokenB.symbol }} {{ $t('swapHistory.inputDialog.title') }}</span>\n                <p>{{ bTokenAmount }} {{ tokenB.symbol }}</p>\n              </div>\n              <div>\n                <span>{{ $t('swapHistory.confirmDialog.Price') }}</span>\n                <div class=\"price\">\n                  <p v-if=\"tokenB && tokenA && price\">\n                    {{ price }} {{ tokenB.symbol }} = 1 {{ tokenA.symbol }}\n                  </p>\n                  <p v-if=\"tokenB && tokenA && price\">\n                    {{ priceinvert }} {{ tokenA.symbol }} = 1\n                    {{ tokenB.symbol }}\n                  </p>\n                </div>\n              </div>\n              <div class=\"items-center\">\n                <span>{{ $t('swapHistory.confirmDialog.share') }}</span>\n                <div class=\"sharePoll\">\n                  <span>+{{ LiquidityInfo.poolPercentData | formatRate }}</span>\n                  <p>{{ $t('swapHistory.confirmDialog.to') }} {{ newpercent | formatRate }}</p>\n                </div>\n              </div>\n              <div>\n                <span>{{ $t('swapHistory.confirmDialog.fee') }}</span>\n                <p>{{ fee | formatBalanceNumber }} HT≈${{ (chainTokenPrice * fee) | formatBalanceNumber }}</p>\n              </div>\n            </div>\n            <Buttons @click.native=\"sendTX\">\n              {{ $t('swapHistory.confirmDialog.titleConfirm') }}\n            </Buttons>\n          </div>\n        </div>\n      </div>\n    </Modal>\n    <haveSendDialog ref=\"haveSendtx\" />\n  </div>\n</template>\n\n<script>\nimport {\n  readpariInfoNuminfo,\n  calculationLiquidity,\n  checkApprove,\n  buildAddliquidityParam,\n  addliquidityGas,\n  sendaddliquidity,\n} from '@/contactLogic/readpairpool.js';\nimport { mapState } from 'vuex';\nimport { getTokenImg, readSwapBalance, getToken } from '@/contactLogic/readbalance.js';\n\nimport Web3 from 'web3';\n\nimport { TokenAmount } from '@webfans/uniswapsdk';\n\nconst debounce = require('debounce');\n\nimport { useTokenApprove } from '@/contacthelp/Approve.js';\n\nimport { ROUTER_ADDRESS } from '@/constants/index.js';\n\nimport event from '@/common/js/event';\nconst BigNumber = require('bignumber.js');\n\nimport getChainCoinInfo from '@/constants/networkCoinconfig.js';\n\n\nexport default {\n  components: {\n    Buttons: () => import('@/components/basic/buttons'),\n    loading: () => import('@/components/basic/loading.vue'),\n    haveSendDialog: () => import('@/components/basic/haveSendDialog.vue'),\n  },\n  data() {\n    return {\n      openInputDialog: false,\n      tokenA: null,\n      tokenB: null,\n      tokenABalance: '',\n      tokenBBalance: '',\n      price: '',\n      priceinvert: '',\n      aTokenAmount: '',\n      bTokenAmount: '',\n      isShowInput: true,\n      LiquidityInfo: null,\n      tokenAnotNeed: true,\n      tokenBnotNeed: true,\n      btnloading: false,\n      fee: '',\n      poolPercentData: '',\n      parameters: [],\n      inputnoticeA: '',\n      inputnoticeB: '',\n      lpbalance: '',\n      ethamount:''\n    };\n  },\n  methods: {\n    toexchange() {\n      this.$router.push('/exchange');\n    },\n    clearData() {\n      this.$data.aTokenAmount = '';\n      this.$data.bTokenAmount = '';\n      this.$data.parameters = [];\n    },\n    getTokenImg(tokensymbol) {\n      const chainID = this.ethChainID;\n      return getTokenImg(tokensymbol, chainID);\n    },\n    async open(pairs) {\n      console.log('open');\n      this.clearData();\n\n      const chainID = this.ethChainID;\n      const library = this.ethersprovider;\n      const account = this.ethAddress;\n      this.openInputDialog = true;\n      this.isShowInput = true;\n\n      console.log(pairs);\n\n      this.$data.tokenA = pairs.Pair.tokenAmounts[0].token;\n      this.$data.tokenB = pairs.Pair.tokenAmounts[1].token;\n\n      // const TokenA = getToken(this.$data.inputcurrency.symbol,chainID);\n      // const TokenB = getToken(this.$data.outputcurrency.symbol,chainID);\n\n      const data = await readSwapBalance(chainID, library, account, this.$data.tokenA, this.$data.tokenB);\n      console.log(data);\n      this.$data.tokenABalance = Web3.utils.fromWei(data.TokenAamount.toString(), 'ether');\n      this.$data.tokenBBalance = Web3.utils.fromWei(data.TokenBamount.toString(), 'ether');\n\n      // const [tokensymbolA,tokensymbolB] = pairs.pairSymbols;\n      const dataPrise = await readpariInfoNuminfo(\n        chainID,\n        library,\n        account,\n        this.$data.tokenA.symbol,\n        this.$data.tokenB.symbol\n      );\n      console.log('dataPrise', dataPrise);\n      this.$data.price = dataPrise.price.toSignificant(6);\n      this.$data.priceinvert = dataPrise.priceinvert.toSignificant(6);\n      this.$data.poolPercentData = dataPrise.poolPercentData;\n      this.$data.lpbalance = dataPrise.balance.toString();\n      this.$data.totalSupply = dataPrise.totalSupply.toString();\n    },\n    aTokenChange: debounce(async function () {\n      console.log('aTokenChange');\n      const chainID = this.ethChainID;\n      const library = this.ethersprovider;\n      const account = this.ethAddress;\n      this.$data.btnloading = true;\n\n      const TokenA = getToken(this.$data.tokenA.symbol, chainID);\n      const TokenB = getToken(this.$data.tokenB.symbol, chainID);\n\n      const num = this.$data.aTokenAmount;\n\n      if (this.inputcheckupA() == false) {\n        return;\n      }\n\n      const coinATokenAmount = new TokenAmount(TokenA, Web3.utils.toWei(num, 'ether'));\n\n      const coinBTokenAmount = new TokenAmount(TokenB, Web3.utils.toWei('0', 'ether'));\n\n      const istargetBToken = true;\n\n      const data = await calculationLiquidity(\n        library,\n        chainID,\n        coinATokenAmount,\n        coinBTokenAmount,\n        istargetBToken,\n        account\n      );\n\n      console.log(data);\n      this.$data.bTokenAmount = data.outputNum.toSignificant(6);\n      const liquidityMinted = data.liquidityMinted.toSignificant(6);\n      this.$data.LiquidityInfo = {\n        aTokenAmount: this.$data.aTokenAmount,\n        bTokenAmount: this.$data.bTokenAmount,\n        liquidityMinted,\n        poolPercentData: data.poolPercentData,\n      };\n\n      await this.checkeAprove();\n      this.$data.btnloading = false;\n    }, 1000),\n    bTokenChange: debounce(async function () {\n      console.log('bTokenChange');\n      const chainID = this.ethChainID;\n      const library = this.ethersprovider;\n      const account = this.ethAddress;\n\n      const TokenA = getToken(this.$data.tokenA.symbol, chainID);\n      const TokenB = getToken(this.$data.tokenB.symbol, chainID);\n\n      const num = this.$data.bTokenAmount;\n\n      if (this.inputcheckupB() == false) {\n        return;\n      }\n\n      this.$data.btnloading = true;\n      const coinATokenAmount = new TokenAmount(TokenA, Web3.utils.toWei('0', 'ether'));\n\n      const coinBTokenAmount = new TokenAmount(TokenB, Web3.utils.toWei(num, 'ether'));\n\n      const istargetBToken = false;\n\n      const data = await calculationLiquidity(\n        library,\n        chainID,\n        coinATokenAmount,\n        coinBTokenAmount,\n        istargetBToken,\n        account\n      );\n\n      console.log(data);\n      this.$data.aTokenAmount = data.outputNum.toSignificant(6);\n\n      const liquidityMinted = data.liquidityMinted.toSignificant(6);\n      this.$data.LiquidityInfo = {\n        aTokenAmount: this.$data.aTokenAmount,\n        bTokenAmount: this.$data.bTokenAmount,\n        liquidityMinted,\n        poolPercentData: data.poolPercentData,\n      };\n      await this.checkeAprove();\n      this.$data.btnloading = false;\n    }, 1000),\n    build() {},\n    async showConfirmInput() {\n      //构造参数计算手续费\n\n      const chainID = this.ethChainID;\n      const library = this.ethersprovider;\n      const account = this.ethAddress;\n\n      console.log(this.checkAmount());\n      if (this.checkAmount()) {\n        return;\n      }\n\n      const TokenA = getToken(this.$data.tokenA.symbol, chainID);\n      const TokenB = getToken(this.$data.tokenB.symbol, chainID);\n\n      const numa = this.$data.aTokenAmount;\n      const numb = this.$data.bTokenAmount;\n\n      const coinATokenAmount = new TokenAmount(TokenA, Web3.utils.toWei(numa, 'ether'));\n\n      const coinBTokenAmount = new TokenAmount(TokenB, Web3.utils.toWei(numb, 'ether'));\n\n      let ethamount;\n      const coinInfo = getChainCoinInfo(chainID);\n      this.$data.ethamount= '';\n      if(this.$data.tokenA.symbol==coinInfo.coinName){\n        ethamount = Web3.utils.toWei(numa, \"ether\") ;\n        this.$data.ethamount = ethamount ;\n      }else{\n        ethamount = Web3.utils.toWei(numb, \"ether\") ;\n        this.$data.ethamount = ethamount ;\n      }\n\n      this.$data.btnloading = true;\n      try {\n        const parameters = await buildAddliquidityParam(coinATokenAmount, coinBTokenAmount, account,chainID);\n        console.log(parameters);\n        this.$data.parameters = parameters;\n\n        const fee = await addliquidityGas(chainID, library, account, parameters,ethamount);\n\n        console.log(fee);\n\n        this.$data.fee = fee;\n        this.isShowInput = false;\n      } catch (error) {\n        console.log(error);\n        this.$Notice.error({\n          title: this.$t('notice.swapNotice.n5'),\n        });\n      }\n      this.$data.btnloading = false;\n    },\n    showInput() {\n      this.isShowInput = true;\n    },\n    async checkeAprove() {\n      const chainID = this.ethChainID;\n      const library = this.ethersprovider;\n      const account = this.ethAddress;\n      const TokenA = getToken(this.$data.tokenA.symbol, chainID);\n      const TokenB = getToken(this.$data.tokenB.symbol, chainID);\n\n      if (this.checkAmount()) {\n        return;\n      }\n\n      const numa = this.$data.aTokenAmount;\n      const numb = this.$data.bTokenAmount;\n\n      const coinATokenAmount = new TokenAmount(TokenA, Web3.utils.toWei(numa, 'ether'));\n\n      const coinBTokenAmount = new TokenAmount(TokenB, Web3.utils.toWei(numb, 'ether'));\n\n      const result = await checkApprove(chainID, library, account, coinATokenAmount, coinBTokenAmount);\n\n      console.log(result);\n      this.$data.tokenAnotNeed = result.tokenAnotNeed;\n      this.$data.tokenBnotNeed = result.tokenBnotNeed;\n    },\n    checkAmount() {\n      this.$data.inputnoticeA = '';\n      this.$data.inputnoticeB = '';\n      const a = this.inputcheckupA();\n      const b = this.inputcheckupB();\n      if (a === false || b === false) {\n        return true;\n      } else {\n        return false;\n      }\n    },\n    inputcheckupA() {\n      try {\n        // if(this.$data.aTokenAmount == ''){\n        //   // this.$data.bTokenAmount = '';\n        //   return ;\n        // }\n        const num = parseFloat(this.$data.aTokenAmount);\n        if (isNaN(num)) {\n          this.$data.inputnoticeA = this.$t('notice.swapNotice.n1');\n          return false;\n        }\n        const inamount = new BigNumber(this.$data.aTokenAmount);\n        if (inamount.isGreaterThan(this.tokenABalance) || inamount.isLessThanOrEqualTo('0')) {\n          this.$data.inputnoticeA = this.$t('notice.swapNotice.n2');\n          return false;\n        }\n      } catch (error) {\n        console.log(error);\n        this.$data.inputnoticeA = this.$t('notice.swapNotice.n1');\n      }\n    },\n    inputcheckupB() {\n      try {\n        // if(this.$data.bTokenAmount == ''){\n        //   // this.$data.aTokenAmount = '';\n        //   return;\n        // }\n        const num = parseFloat(this.$data.bTokenAmount);\n        if (isNaN(num)) {\n          this.$data.inputnoticeB = this.$t('notice.swapNotice.n1');\n          return false;\n        }\n        const inamount = new BigNumber(this.$data.bTokenAmount);\n        if (inamount.isGreaterThan(this.tokenBBalance) || inamount.isLessThanOrEqualTo('0')) {\n          this.$data.inputnoticeB = this.$t('notice.swapNotice.n2');\n          return false;\n        }\n      } catch (error) {\n        console.log(error);\n        this.$data.inputnoticeB = this.$t('notice.swapNotice.n1');\n      }\n    },\n    async approveA() {\n      const chainID = this.ethChainID;\n      const library = this.ethersprovider;\n      const account = this.ethAddress;\n      const TokenA = getToken(this.$data.tokenA.symbol, chainID);\n\n      const numa = this.$data.aTokenAmount;\n      const amount = Web3.utils.toWei(numa);\n\n      if (this.checkAmount()) {\n        return;\n      }\n\n      const spender = ROUTER_ADDRESS;\n      this.$data.btnloading = true;\n\n      const transaction = await useTokenApprove(library, account, TokenA, spender, amount);\n      console.log(transaction);\n      if (transaction) {\n        const waitdata = await transaction.wait([1]);\n        console.log(waitdata);\n        this.$data.tokenAnotNeed = true;\n      } else {\n        //取消授权\n        //需要提示\n        this.$Notice.error({\n          title: this.$t('notice.swapNotice.n4'),\n        });\n      }\n      this.$data.btnloading = false;\n    },\n    async approveB() {\n      const chainID = this.ethChainID;\n      const library = this.ethersprovider;\n      const account = this.ethAddress;\n\n      if (this.checkAmount()) {\n        return;\n      }\n\n      const TokenB = getToken(this.$data.tokenB.symbol, chainID);\n\n      const numb = this.$data.bTokenAmount;\n\n      const amount = Web3.utils.toWei(numb);\n\n      const spender = ROUTER_ADDRESS;\n\n      this.$data.btnloading = true;\n\n      const transaction = await useTokenApprove(library, account, TokenB, spender, amount);\n      console.log(transaction);\n      if (transaction) {\n        const waitdata = await transaction.wait([1]);\n        console.log(waitdata);\n        this.$data.tokenBnotNeed = true;\n      } else {\n        //取消授权\n        //需要提示\n        this.$Notice.error({\n          title: this.$t('notice.swapNotice.n4'),\n        });\n      }\n      this.$data.btnloading = false;\n    },\n    async sendTX() {\n      const chainID = this.ethChainID;\n      const library = this.ethersprovider;\n      const account = this.ethAddress;\n\n      const parameters = this.$data.parameters;\n\n      if (this.checkAmount()) {\n        return;\n      }\n\n      this.$data.btnloading = true;\n      try {\n        const tx = await sendaddliquidity(chainID, library, account, parameters,this.$data.ethamount);\n\n        const baseTip = `${this.$t('swapConfirm.add')} ${this.$data.LiquidityInfo.liquidityMinted} ${this.$data.tokenA.symbol}/${this.$data.tokenB.symbol} LP `;\n        this.$refs.haveSendtx.open(baseTip);\n        event.$emit('sendtx', [\n          tx,\n          {\n            okinfo: baseTip +this.$t('swapConfirm.success'),\n            failinfo: baseTip + this.$t('swapConfirm.fail'),\n          },\n        ]);\n        this.$data.openInputDialog = false;\n      } catch (error) {\n        this.$Notice.error({\n          title: this.$t('notice.swapNotice.n3'),\n        });\n      }\n      this.$data.btnloading = false;\n    },\n  },\n  computed: {\n    ...mapState(['ethChainID', 'ethAddress', 'web3', 'ethersprovider', 'chainTokenPrice']),\n    newpercent() {\n      const addlp = Web3.utils.toWei(this.$data.LiquidityInfo.liquidityMinted);\n      const oldlp = Web3.utils.toWei(this.lpbalance);\n      const oldalllp = Web3.utils.toWei(this.$data.totalSupply);\n\n      const addlpBG = new BigNumber(addlp);\n      const oldlpBG = new BigNumber(oldlp);\n      const oldalllpBG = new BigNumber(oldalllp);\n\n      let data = addlpBG.plus(oldlpBG).div(addlpBG.plus(oldalllpBG));\n      return (data = data.toString());\n    },\n  },\n  watch: {},\n};\n</script>\n\n<style lang=\"less\" scoped>\n.input-modal {\n  background: #ffffff;\n  box-shadow: 0px 0px 40px 0px rgba(0, 0, 0, 0.06);\n  border-radius: 12px;\n  .input-content {\n    .title {\n      height: 28px;\n      font-size: 24px;\n      line-height: 28px;\n      margin-bottom: 24px;\n    }\n    .Input-wrapper {\n      .title-content {\n        overflow: hidden;\n        margin: 16px 0 8px;\n        span {\n          float: left;\n        }\n        .balance-item {\n          float: right;\n          font-size: 12px;\n          line-height: 14px;\n        }\n      }\n      .input-wrapper {\n        width: 100%;\n        height: 72px;\n        background: #f7f8f9;\n        border-radius: 6px;\n        position: relative;\n        .amount-input {\n          width: 100%;\n          height: 100%;\n          outline: none;\n          border: none;\n          background: #f7f8f9;\n          font-size: 40px;\n          line-height: 47px;\n          color: #14171c;\n          padding: 16px;\n          caret-color: #FF41A1;\n          &:focus {\n            border: 1px solid #FF41A1;\n            border-radius: 4px;\n          }\n        }\n        .amount-input-error {\n          &:focus {\n            border: 1px solid #ff3c00;\n            border-radius: 4px;\n          }\n        }\n        .unit {\n          position: absolute;\n          justify-content: space-between;\n          width: 88px;\n          right: 16px;\n          top: 30%;\n          p {\n            font-size: 16px;\n            line-height: 32px;\n          }\n        }\n      }\n      .notice-wrapper {\n        margin-top: 10px;\n        .notice-content {\n          padding: 10px;\n          display: flex;\n          align-items: center;\n          width: 100%;\n          height: 40px;\n          background: rgba(255, 60, 0, 0.1);\n          border-radius: 4px;\n          img {\n            margin-right: 10px;\n          }\n          p {\n            width: 100%;\n            height: 14px;\n            font-size: 12px;\n            color: #ff3c00;\n            line-height: 14px;\n          }\n        }\n      }\n    }\n    .add-wrapper {\n      width: 40px;\n      height: 40px;\n      padding: 8px;\n      background: #f7f8f9;\n      border-radius: 4px;\n      margin: 32px auto;\n    }\n    .price-wrapper {\n      margin-top: 30px;\n      span {\n        height: 14px;\n        font-size: 12px;\n        color: #828489;\n        line-height: 14px;\n      }\n      p {\n        height: 14px;\n        font-size: 12px;\n        line-height: 14px;\n        margin-bottom: 8px;\n      }\n    }\n    .btn-wrapper {\n      margin-top: 16px;\n      .button-wrapper {\n        height: 48px;\n      }\n      .buy {\n        cursor: pointer;\n        margin-top: 24px;\n        text-align: center;\n        font-size: 14px;\n        color: #FF41A1;\n      }\n    }\n  }\n\n  .confirmInput-content {\n    padding: 0 40px 20px;\n    position: relative;\n    .arrow-wrapper {\n      cursor: pointer;\n      position: absolute;\n      left: 24px;\n      top: 0;\n    }\n    .title {\n      height: 28px;\n      font-size: 24px;\n      line-height: 28px;\n      margin-bottom: 24px;\n    }\n    .will-receive {\n      text-align: center;\n      margin: 24px 0 32px;\n      height: 19px;\n      font-size: 16px;\n      line-height: 19px;\n    }\n\n    .confirm-content {\n      display: flex;\n      flex-direction: column;\n      align-items: center;\n      div {\n        width: 60px;\n        height: 48px;\n        position: relative;\n        img {\n          position: absolute;\n          left: -12px;\n          top: 0;\n        }\n        .img2 {\n          left: 12px;\n          top: 0;\n        }\n      }\n      h2 {\n        height: 47px;\n        font-size: 40px;\n        line-height: 47px;\n        margin: 8px 0;\n      }\n      p {\n        height: 19px;\n        font-size: 16px;\n        line-height: 19px;\n      }\n      span {\n        height: 32px;\n        font-size: 14px;\n        color: #828489;\n        line-height: 16px;\n        text-align: center;\n        margin-top: 8px;\n      }\n    }\n\n    .price-wrapper {\n      margin-top: 30px;\n      div {\n        display: flex;\n        justify-content: space-between;\n        .sharePoll {\n          margin: 16px 0;\n          span {\n            color: #00d075;\n            margin-right: 5px;\n          }\n        }\n      }\n      .price {\n        display: block;\n      }\n      span {\n        height: 14px;\n        font-size: 12px;\n        color: #828489;\n        line-height: 14px;\n      }\n      p {\n        height: 14px;\n        font-size: 12px;\n        line-height: 14px;\n        margin-bottom: 8px;\n      }\n    }\n\n    .button-wrapper {\n      margin-top: 24px;\n      height: 48px;\n    }\n  }\n}\n\n.demo-spin-container {\n  display: inline-block;\n  width: 400px;\n  height: 200px;\n  position: relative;\n}\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./inputDialog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./inputDialog.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./inputDialog.vue?vue&type=template&id=f7430442&scoped=true&\"\nimport script from \"./inputDialog.vue?vue&type=script&lang=js&\"\nexport * from \"./inputDialog.vue?vue&type=script&lang=js&\"\nimport style0 from \"./inputDialog.vue?vue&type=style&index=0&id=f7430442&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f7430442\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}